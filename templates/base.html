<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kelvin Young - Developer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <header>
        <div class="logo">
            <a href="{{ url_for('index') }}">
                <svg viewBox="0 0 100 100" fill="#222">
                    <path d="M20,20 L80,20 L50,80 Z"></path>
                </svg>
            </a>
        </div>
        <nav>
            <ul>
                <li><a href="{{ url_for('about')}}">About</a></li>
                <li><a href="{{ url_for('contact')}}">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        {% block content %}{% endblock %}
    </main>

    <script>
        let pos = localStorage.getItem('bgPos') || 0;
        let startTime = localStorage.getItem('startTime') || Date.now();
        const duration = 15000; // 15 seconds in milliseconds
        
        function easeInOut(t) {
            // Recreates the 'ease' timing function
            return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
        }
        
        function animateBackground() {
            // Store startTime if it's new
            if (!localStorage.getItem('startTime')) {
                localStorage.setItem('startTime', startTime);
            }
            
            const elapsed = (Date.now() - startTime) % duration;
            const progress = elapsed / duration;
            
            // Calculate position using the ease function (0 to 100)
            pos = easeInOut(progress) * 100;
            
            document.body.style.backgroundPosition = `${pos}% 50%`;
            localStorage.setItem('bgPos', pos);
            requestAnimationFrame(animateBackground);
        }

        animateBackground();
    </script>
</body>
</html>